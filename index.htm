<!DOCTYPE html>
<html lang="zh-CN">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>å‚²ã®é¢†åˆ¸åˆé›†</title>
<style>
body { font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Arial,sans-serif; background:#f2f2f7; padding:20px; display:flex; flex-direction:column; align-items:center; }
.container { background:#fff; padding:20px; border-radius:16px; width:95%; max-width:500px; box-shadow:0 4px 12px rgba(0,0,0,0.08); }
h2 { text-align:center; margin-bottom:10px; font-size:20px; }
p { text-align:center; margin-bottom:12px; }
input { width:100%; padding:12px; font-size:16px; border-radius:12px; border:1px solid #ccc; margin-bottom:10px; box-sizing:border-box; background:#fff; }
.btn-row { display:flex; justify-content:space-between; gap:10px; margin-bottom:10px;}
button { flex:1; padding:12px; font-size:15px; border:none; border-radius:12px; cursor:pointer; font-weight:500; transition:all 0.2s ease-in-out; color:#fff; }
button:hover { opacity:0.9; transform:scale(1.02); }

#pasteBtn { background:#5ac8fa; } 
#goBtn { background:#0a84ff; } 
#clearBtn { background:#ff3b30; } 
#homeBtn { background:#34c759; width:100%; margin-top:10px; }

.coupon-card { margin-top:14px; padding:16px; border-radius:16px; background:#fff; box-shadow:0 2px 6px rgba(0,0,0,0.06); border:1px solid #eee; }
.coupon-title { font-weight:600; margin-bottom:8px; }
.coupon-actions { display:flex; gap:8px; margin-bottom:8px; }
.coupon-actions button { flex:1; padding:10px; font-size:14px; border-radius:12px; }
.btn-direct { background:#5ac8fa; }
.btn-code { background:#0a84ff; }
.btn-copy { background:#34c759; }
.coupon-text { width:100%; padding:10px; border-radius:12px; border:1px solid #ccc; background:#fff; word-break:break-all; font-size:14px; color:#333; box-sizing:border-box; margin:0; }
.note { font-size:12px; color:#777; margin-top:6px; text-align:center; }

.grid-btns { display:flex; justify-content:space-between; gap:8px; margin-top:10px; }
.grid-btns button { flex:1; font-size:14px; padding:10px; border-radius:12px; color:#fff; border:none; cursor:pointer; }
#didiBtn { background:#ff453a; }
#t3Btn { background:#ff9f0a; }
#hxzBtn { background:#0a84ff; }
#tcBtn { background:#34c759; }
#flowBtn { background:#5ac8fa; }

.music-control { display:flex; justify-content:center; gap:8px; margin-bottom:10px; }
.music-control button { flex:1; padding:10px; font-size:14px; border-radius:12px; border:none; cursor:pointer; color:#fff; }
#prevBtn { background:#ff9f0a; }
#musicBtn { background:#ff3b30; }
#nextBtn { background:#34c759; }
</style>
</head>
<body>

<!-- éŸ³ä¹æŒ‰é’® -->
<div class="music-control">
  <button id="prevBtn">ä¸Šä¸€é¦–</button>
  <button id="musicBtn">ğŸµ æ‹äºº</button>
  <button id="nextBtn">ä¸‹ä¸€é¦–</button>
</div>
<audio id="bgMusic" loop></audio>

<div class="container">
<h2>å‚²ã®é¢†åˆ¸åˆé›†</h2>
<p>WeChat: <strong>aonb9999</strong></p>

<input type="text" id="pasteBox" placeholder="è¯·ç²˜è´´å¤–å–åº—é“ºé“¾æ¥">

<div class="btn-row">
<button id="pasteBtn">ç²˜è´´</button>
<button id="goBtn">Go è·³è½¬é¢†åˆ¸</button>
<button id="clearBtn">æ¸…ç©º</button>
</div>
<button id="homeBtn">è¿›å…¥ç¾å›¢å¤–å–ä¸»é¡µ</button>
<p style="font-size:14px; color:#555; margin-top:6px; text-align:center;">è¿›å…¥éœ€è¦ä¸‹å•çš„åº—é“ºï¼Œå¤åˆ¶é“¾æ¥ç²˜è´´åˆ°ä¸Šæ–¹é¢†åˆ¸</p>

<!-- ç¾å›¢å¤–å–åˆ¸1 -->
<div class="coupon-card" id="coupon1">
  <div class="coupon-title">ç¾å›¢å¤–å–åˆ¸1</div>
  <div class="coupon-actions">
    <button class="btn-direct" id="coupon1_direct">ç›´è¾¾</button>
    <button class="btn-code" id="coupon1_showcode">å£ä»¤</button>
    <button class="btn-copy" id="coupon1_copyopen">å¯†ä»¤</button>
  </div>
  <div class="coupon-text" id="coupon1_text" aria-live="polite">å£ä»¤ä¼šæ˜¾ç¤ºåœ¨è¿™é‡Œ</div>
  <div class="note">ç‚¹å‡»â€œå¯†ä»¤â€ä¼šå¤åˆ¶å¯†ä»¤åˆ°å‰ªè´´æ¿ï¼Œæ‰“å¼€ç¾å›¢Appè·³è½¬é¢†åˆ¸</div>
</div>

<!-- ç¾å›¢å¤–å–åˆ¸2 -->
<div class="coupon-card" id="coupon2">
  <div class="coupon-title">ç¾å›¢å¤–å–åˆ¸2</div>
  <div class="coupon-actions">
    <button class="btn-direct" id="coupon2_direct">ç›´è¾¾</button>
    <button class="btn-code" id="coupon2_showcode">å£ä»¤</button>
    <button class="btn-copy" id="coupon2_copyopen">å¯†ä»¤</button>
  </div>
  <div class="coupon-text" id="coupon2_text" aria-live="polite">å£ä»¤ä¼šæ˜¾ç¤ºåœ¨è¿™é‡Œ</div>
  <div class="note">ç‚¹å‡»â€œå¯†ä»¤â€ä¼šå¤åˆ¶å¯†ä»¤åˆ°å‰ªè´´æ¿ï¼Œæ‰“å¼€ç¾å›¢Appè·³è½¬é¢†åˆ¸</div>
</div>

<!-- æ·˜å®é—ªè´­1 -->
<div class="coupon-card" id="tb1">
  <div class="coupon-title">æ·˜å®é—ªè´­é¢†åˆ¸1</div>
  <div class="coupon-actions">
    <button class="btn-direct" id="tb1_direct">ç›´è¾¾</button>
    <button class="btn-code" id="tb1_showcode">å£ä»¤</button>
    <button class="btn-copy" id="tb1_copyopen">å¯†ä»¤</button>
  </div>
  <div class="coupon-text" id="tb1_text" aria-live="polite">å£ä»¤ä¼šæ˜¾ç¤ºåœ¨è¿™é‡Œï¼ˆç‚¹å‡»â€œå£ä»¤â€æŒ‰é’®ï¼‰</div>
  <div class="note">ç‚¹å‡»â€œå¯†ä»¤â€ä¼šæŠŠå¯†ä»¤å¤åˆ¶åˆ°å‰ªè´´æ¿ï¼Œæ‰“å¼€æ·˜å®Appå³å¯è·³è½¬é¢†åˆ¸</div>
</div>

<!-- æ·˜å®é—ªè´­2 -->
<div class="coupon-card" id="tb2">
  <div class="coupon-title">æ·˜å®é—ªè´­é¢†åˆ¸2</div>
  <div class="coupon-actions">
    <button class="btn-direct" id="tb2_direct">ç›´è¾¾</button>
    <button class="btn-code" id="tb2_showcode">å£ä»¤</button>
    <button class="btn-copy" id="tb2_copyopen">å¯†ä»¤</button>
  </div>
  <div class="coupon-text" id="tb2_text" aria-live="polite">å£ä»¤ä¼šæ˜¾ç¤ºåœ¨è¿™é‡Œï¼ˆç‚¹å‡»â€œå£ä»¤â€æŒ‰é’®ï¼‰</div>
  <div class="note">ç‚¹å‡»â€œå¯†ä»¤â€ä¼šæŠŠå¯†ä»¤å¤åˆ¶åˆ°å‰ªè´´æ¿ï¼Œæ‰“å¼€æ·˜å®Appå³å¯è·³è½¬é¢†åˆ¸</div>
</div>

<!-- æ‰“è½¦æŒ‰é’® -->
<div class="grid-btns">
  <button id="didiBtn">æ»´æ»´æ‰“è½¦é¢†åˆ¸</button>
  <button id="t3Btn">T3æ‰“è½¦é¢†åˆ¸</button>
  <button id="hxzBtn">èŠ±å°çŒªæ‰“è½¦é¢†åˆ¸</button>
  <button id="tcBtn">åŒç¨‹æ‰“è½¦é¢†åˆ¸</button>
</div>

<!-- æµé‡å¡åŠç† -->
<div class="grid-btns">
  <button id="flowBtn">æµé‡å¡åŠç†</button>
</div>
</div>

<script>
/* å·¥å…·å‡½æ•° */
function isWeixin(){ return /micromessenger/i.test(navigator.userAgent); }
function isIOS(){ return /iphone|ipad|ipod/i.test(navigator.userAgent); }
function isAndroid(){ return /android/i.test(navigator.userAgent); }
function getCodeAfterColon(text){ const idx=text.indexOf(":"); return idx!==-1 ? text.substring(idx+1).trim() : text; }

/* ç²˜è´´ + Go + æ¸…ç©º */
let extractedPoiId = "";

function extractPoiId(text){ 
    try {
        const url = new URL(text.trim());
        return url.searchParams.get("poi_id_str") 
            || url.searchParams.get("poi_id") 
            || url.searchParams.get("poiId") 
            || "";
    } catch(e){
        let match = text.match(/poi[_]?id[_]?str?=([\w\-_]+)/i);
        return match ? match[1] : "";
    }
}

const pasteBox = document.getElementById("pasteBox");
const pasteBtn = document.getElementById("pasteBtn");
const goBtn = document.getElementById("goBtn");
const clearBtn = document.getElementById("clearBtn");
const homeBtn = document.getElementById("homeBtn");

// å®æ—¶ç›‘å¬ input äº‹ä»¶ï¼Œæ— è®ºæ˜¯ç²˜è´´ã€å¿«æ·è¾“å…¥è¿˜æ˜¯è‡ªåŠ¨å¡«å……
pasteBox.addEventListener("input", (e)=>{
    const text = e.target.value;
    const id = extractPoiId(text);
    if(id){
        extractedPoiId = id;
        pasteBox.value = "ç²˜è´´æˆåŠŸï¼Œè¯·ç‚¹ Go è·³è½¬é¢†åˆ¸";
    }
});

// ç²˜è´´æŒ‰é’®
pasteBtn.addEventListener("click", ()=>{
    pasteBox.focus();
    pasteBox.setSelectionRange(0, pasteBox.value.length);
});

// Go è·³è½¬
goBtn.addEventListener("click", ()=>{
    if(!extractedPoiId){ 
        alert("è¯·å…ˆç²˜è´´åŒ…å«åº—é“ºIDçš„é“¾æ¥ï¼"); 
        return;
    }
    window.location.href = `https://offsiteact.meituan.com/web/hoae/collection_waimai_v8/index.html?poi_id_str=${extractedPoiId}&p=1009457908706648064`;
});

// æ¸…ç©º
clearBtn.addEventListener("click", ()=>{
    pasteBox.value = "";
    extractedPoiId = "";
});

// é¦–é¡µ
homeBtn.addEventListener("click", ()=>{
    window.location.href = "https://h5.waimai.meituan.com/waimai/mindex/home";
});




/* ç¾å›¢åˆ¸1 */
const coupon1={directUrl:"http://dpurl.cn/dB3Un4Iz", codeText:"ç¾å›¢appæœ:79822", copyOpenText:"1 %å¤åˆ¶ä¿¡æ¯#% æ‰“å¼€å›¢App http:/Â¥v8MjgxNzAwZGEÂ¥ä¸€èµ·é¢†"};
document.getElementById("coupon1_direct").addEventListener("click",()=>window.open(coupon1.directUrl,"_blank"));
document.getElementById("coupon1_showcode").addEventListener("click",async()=>{ document.getElementById("coupon1_text").textContent=coupon1.codeText; try{ await navigator.clipboard.writeText(getCodeAfterColon(coupon1.codeText)); alert("å¤åˆ¶å£ä»¤æˆåŠŸï¼Œè¯·åœ¨ç¾å›¢Appé¡¶éƒ¨æœç´¢"); } catch{ alert("å¤åˆ¶å£ä»¤å¤±è´¥ï¼Œè¯·æ‰‹åŠ¨å¤åˆ¶"); }});
document.getElementById("coupon1_copyopen").addEventListener("click",async()=>{ try{ await navigator.clipboard.writeText(coupon1.copyOpenText); alert("å¤åˆ¶å¯†ä»¤æˆåŠŸï¼Œè¯·æ‰“å¼€ç¾å›¢App"); window.location.href="imeituan://"; } catch{ alert("å¤åˆ¶å¤±è´¥ï¼Œè¯·æ‰‹åŠ¨å¤åˆ¶"); }});

/* ç¾å›¢åˆ¸2 */
const coupon2={directUrl:"http://dpurl.cn/UnaXWSpz", codeText:"ç¾å›¢appæœ:79821", copyOpenText:"1 %å¤åˆ¶ä¿¡æ¯#% æ‰“å¼€å›¢App http:/Â¥djZDhmODI2MjgÂ¥ä¸€èµ·é¢†"};
document.getElementById("coupon2_direct").addEventListener("click",()=>window.open(coupon2.directUrl,"_blank"));
document.getElementById("coupon2_showcode").addEventListener("click",async()=>{ document.getElementById("coupon2_text").textContent=coupon2.codeText; try{ await navigator.clipboard.writeText(getCodeAfterColon(coupon2.codeText)); alert("å¤åˆ¶å£ä»¤æˆåŠŸï¼Œè¯·åœ¨ç¾å›¢Appé¡¶éƒ¨æœç´¢"); } catch{ alert("å¤åˆ¶å£ä»¤å¤±è´¥ï¼Œè¯·æ‰‹åŠ¨å¤åˆ¶"); }});
document.getElementById("coupon2_copyopen").addEventListener("click",async()=>{ try{ await navigator.clipboard.writeText(coupon2.copyOpenText); alert("å¤åˆ¶å¯†ä»¤æˆåŠŸï¼Œè¯·æ‰“å¼€ç¾å›¢App"); window.location.href="imeituan://"; } catch{ alert("å¤åˆ¶å¤±è´¥ï¼Œè¯·æ‰‹åŠ¨å¤åˆ¶"); }});

/* æ·˜å®é—ªè´­1 */
const tb1 = { aceUrl:"https://ace.tb.cn/t?smburl=tbopen%3A%2F%2Fm.taobao.com%2Ftbopen%2Findex.html%3F%26action%3Dali.open.nav%26module%3Dh5%26h5Url%3Dhttps%253A%252F%252Ftb.ele.me%252Fwow%252Fz%252Funiapp%252F1100497%252Fad-miniapp%252Fet-union%252Fbrand%253Fwh_weex%253Dtrue%2526weex_mode%253Ddom%2526alsc_exsrc%253DES0007485972%2526channelInfo%253D%25257B%252522subSubChannel%252522%25253A%252522miniapp.taobao.et%252522%25257D%2526bc_fl_src%253Deleme_unionbrand%2526page_name%253Dunion-brand%2526scene%253D87f0769ec227431997a9309899e36382%2526o2i_1st_clk%253D__CLICK_ID__", androidUrl:"https://market.m.taobao.com/app/starlink/wakeup-transit/pages/download?star_id=8644&slk_force_set_request=true&scene=87f0769ec227431997a9309899e36382", codeText:"æ·˜å®é—ªè´­æœ:20520", copyOpenText:"47 HU7405   2:/Â£CxNR4L5DK93â‚¤ä¸‰æœ€é«˜20å…ƒï¼Œå¯å åŠ "};
document.getElementById("tb1_direct").addEventListener("click",async()=>{ if(isIOS()){ window.location.href=tb1.aceUrl; } else if(isAndroid() && isWeixin()){ try{ await navigator.clipboard.writeText(tb1.androidUrl); alert("å·²å¤åˆ¶é¢†åˆ¸é“¾æ¥ï¼Œè¯·ç²˜è´´åˆ°æµè§ˆå™¨æ‰“å¼€"); } catch{ alert("å¤åˆ¶å¤±è´¥ï¼Œè¯·æ‰‹åŠ¨å¤åˆ¶"); } } else { window.open(tb1.androidUrl,"_blank"); }});
document.getElementById("tb1_showcode").addEventListener("click",async()=>{ document.getElementById("tb1_text").textContent=tb1.codeText; try{ await navigator.clipboard.writeText(getCodeAfterColon(tb1.codeText)); alert("å¤åˆ¶å£ä»¤æˆåŠŸï¼Œè¯·åœ¨æ·˜å®Appé—ªè´­é¡¶éƒ¨æœç´¢"); } catch{ alert("å¤åˆ¶å£ä»¤å¤±è´¥ï¼Œè¯·æ‰‹åŠ¨å¤åˆ¶"); }});
document.getElementById("tb1_copyopen").addEventListener("click",async()=>{ try{ await navigator.clipboard.writeText(tb1.copyOpenText); alert("å¤åˆ¶å¯†ä»¤æˆåŠŸï¼Œè¯·æ‰“å¼€æ·˜å®App"); } catch{ alert("å¤åˆ¶å¤±è´¥ï¼Œè¯·æ‰‹åŠ¨å¤åˆ¶"); }});

/* æ·˜å®é—ªè´­2 */
const tb2 = { 
  aceUrl:"https://ace.tb.cn/t?smburl=tbopen%3A%2F%2Fm.taobao.com%2Ftbopen%2Findex.html%3F%26action%3Dali.open.nav%26module%3Dh5%26h5Url%3Dhttps%253A%252F%252Ftb.ele.me%252Fwow%252Fz%252Funiapp%252F1100497%252Fad-miniapp%252Fet-union%252Fhome%253Fwh_weex%253Dtrue%2526weex_mode%253Ddom%2526channelInfo%253D%25257B%252522subSubChannel%252522%25253A%252522miniapp.taobao.et%252522%25257D%2526alsc_exsrc%253DES0007485972%2526scene%253D2faa6b9fb1754293a90b6004d5e419c8", 
  androidUrl:"https://market.m.taobao.com/app/starlink/wakeup-transit/pages/download?star_id=8644&slk_force_set_request=true&scene=2faa6b9fb1754293a90b6004d5e419c8",
  codeText:"æ·˜å®é—ªè´­æœ:20521", 
  copyOpenText:"ï¿¥gDGp4Ks3h39ï¿¥/ HU7405"
};

document.getElementById("tb2_direct").addEventListener("click",async()=>{
  if(isIOS()){ 
    window.location.href=tb2.aceUrl; 
  } else if(isAndroid() && isWeixin()){ 
    try{ 
      await navigator.clipboard.writeText(tb2.androidUrl); 
      alert("å·²å¤åˆ¶é¢†åˆ¸é“¾æ¥ï¼Œè¯·ç²˜è´´åˆ°æµè§ˆå™¨æ‰“å¼€"); 
    } catch{ 
      alert("å¤åˆ¶å¤±è´¥ï¼Œè¯·æ‰‹åŠ¨å¤åˆ¶"); 
    } 
  } else { 
    window.open(tb2.androidUrl,"_blank"); 
  }
});

document.getElementById("tb2_showcode").addEventListener("click",async()=>{
  document.getElementById("tb2_text").textContent=tb2.codeText; 
  try{ 
    await navigator.clipboard.writeText(getCodeAfterColon(tb2.codeText)); 
    alert("å¤åˆ¶å£ä»¤æˆåŠŸï¼Œè¯·åœ¨æ·˜å®Appé—ªè´­é¡¶éƒ¨æœç´¢"); 
  } catch{ 
    alert("å¤åˆ¶å£ä»¤å¤±è´¥ï¼Œè¯·æ‰‹åŠ¨å¤åˆ¶"); 
  }
});

document.getElementById("tb2_copyopen").addEventListener("click",async()=>{
  try{ 
    await navigator.clipboard.writeText(tb2.copyOpenText); 
    alert("å¤åˆ¶å¯†ä»¤æˆåŠŸï¼Œè¯·æ‰“å¼€æ·˜å®App"); 
  } catch{ 
    alert("å¤åˆ¶å¤±è´¥ï¼Œè¯·æ‰‹åŠ¨å¤åˆ¶"); 
  }
});


/* æ‰“è½¦åŠæµé‡å¡æŒ‰é’® */
document.getElementById("didiBtn").addEventListener("click",()=>window.open("https://vv.didi.cn/a8ZdG0j","_blank"));
document.getElementById("t3Btn").addEventListener("click",()=>window.open("https://s.t3go.cn/4WGk6eCQO","_blank"));
document.getElementById("hxzBtn").addEventListener("click",()=>window.open("https://x.huaxz.cn/kgX0KXR","_blank"));
document.getElementById("tcBtn").addEventListener("click",()=>window.open("https://wx.17u.cn/carfe/app/slCoupons?mark=d182390","_blank"));
document.getElementById("flowBtn").addEventListener("click",()=>window.open("http://ax.lxhaoka.cn/index?k=WDU4Z0YzZDNiUzA9","_blank"));

/* éŸ³ä¹æ’­æ”¾æ§åˆ¶ */
const prevBtn = document.getElementById("prevBtn");
const nextBtn = document.getElementById("nextBtn");

const playlist = [
    { name: "æ‹äºº", url: "https://aonb666.github.io/yy/æ‹äºº.mp3" },
    { name: "ææµ…", url: "https://aonb666.github.io/yy/ææµ….mp3" },
    { name: "å€Ÿå£", url: "https://aonb666.github.io/yy/å€Ÿå£.mp3" }
];

let currentIndex = parseInt(localStorage.getItem("bgMusicIndex")) || 0;
let isPlaying = false;

bgMusic.src = playlist[currentIndex].url;
bgMusic.currentTime = parseFloat(localStorage.getItem("bgMusicTime")) || 0;
musicBtn.textContent = "ğŸµ " + playlist[currentIndex].name;

musicBtn.addEventListener("click", () => {
    if (!isPlaying) {
        bgMusic.play().catch(()=>{alert("æµè§ˆå™¨é™åˆ¶ï¼Œéœ€è¦æ‰‹åŠ¨æ’­æ”¾");});
        musicBtn.textContent = "â¸ï¸ " + playlist[currentIndex].name;
        isPlaying = true;
    } else {
        bgMusic.pause();
        musicBtn.textContent = "ğŸµ " + playlist[currentIndex].name;
        isPlaying = false;
    }
});

nextBtn.addEventListener("click", () => {
    currentIndex = (currentIndex + 1) % playlist.length;
    bgMusic.src = playlist[currentIndex].url;
    bgMusic.play();
    isPlaying = true;
    musicBtn.textContent = "â¸ï¸ " + playlist[currentIndex].name;
});

prevBtn.addEventListener("click", () => {
    currentIndex = (currentIndex - 1 + playlist.length) % playlist.length;
    bgMusic.src = playlist[currentIndex].url;
    bgMusic.play();
    isPlaying = true;
    musicBtn.textContent = "â¸ï¸ " + playlist[currentIndex].name;
});

setInterval(() => {
    localStorage.setItem("bgMusicTime", bgMusic.currentTime);
    localStorage.setItem("bgMusicIndex", currentIndex);
}, 1000);

window.addEventListener("pageshow", (event)=>{
    if(event.persisted){
        currentIndex = parseInt(localStorage.getItem("bgMusicIndex")) || 0;
        bgMusic.src = playlist[currentIndex].url;
        bgMusic.currentTime = parseFloat(localStorage.getItem("bgMusicTime")) || 0;
        musicBtn.textContent = (isPlaying ? "â¸ï¸ " : "ğŸµ ") + playlist[currentIndex].name;
        if(isPlaying) bgMusic.play().catch(()=>{});
    }
});
</script>

</body>
</html>
